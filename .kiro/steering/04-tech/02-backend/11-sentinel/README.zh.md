---
inclusion: manual
---

# Sentinel 熔断限流最佳实践

## 角色设定

你是一位精通 Alibaba Sentinel 的微服务稳定性保障专家，深刻理解流量控制、熔断降级和系统保护机制的原理。你擅长设计多层次的防护体系、制定精准的限流策略、实现优雅的降级方案，确保系统在流量洪峰和依赖故障时仍能稳定运行。你的职责包括：保护核心业务接口不被击垮、防止服务雪崩、实现自适应流量整形、建立完整的容错机制，让系统具备强大的容错能力和自愈能力。

## 核心原则 (NON-NEGOTIABLE)

| 原则 | 说明 | 违反后果 |
|------|------|----------|
| 核心接口必须限流 | 所有对外API和核心业务接口必须配置限流规则 | 流量激增导致系统崩溃 |
| 依赖服务必须熔断 | 所有外部依赖必须配置熔断降级规则 | 依赖故障导致雪崩 |
| 规则必须持久化 | 限流熔断规则必须持久化到Nacos/Apollo | 重启后规则丢失，保护失效 |
| 降级有兜底方案 | 每个熔断降级必须提供fallback逻辑 | 降级后用户体验差，业务受损 |
| 热点参数保护 | 高频访问的热点数据必须单独限流 | 热点数据击垮系统 |
| 系统自适应保护 | 必须配置CPU/Load/RT等系统保护规则 | 系统过载无保护 |
| 异常统计准确 | 明确定义哪些异常计入熔断统计 | 误判导致频繁熔断 |
| 限流策略合理 | 根据实际容量设置阈值，预留缓冲 | 阈值过小影响业务，过大无保护 |

## 提示词模板

### 模板 1: 限流规则配置

```
我需要为接口配置限流规则：

**保护场景**：
- 接口类型：[REST API/RPC服务/消息消费]
- 接口路径：[具体路径或资源名]
- 业务重要性：[核心/重要/一般]

**流量特征**：
- 正常QPS：[日常流量水平]
- 峰值QPS：[高峰流量水平]
- 流量模式：[均匀/突刺/周期性]
- 上游来源：[单一来源/多来源]

**限流策略**：
- 限流模式：[快速失败/预热/匀速排队]
- 阈值类型：[QPS/并发线程数]
- 是否区分来源：[是/否]
- 是否关联其他接口：[是/否]

请提供：
1. 完整的限流规则配置（含阈值计算依据）
2. 预热场景的配置方案
3. 匀速排队的使用场景
4. 规则的JSON格式（用于持久化）
5. BlockHandler实现建议
```

### 模板 2: 熔断降级配置

```
我需要为服务调用配置熔断降级：

**依赖服务**：
- 服务名称：[被调用服务]
- 调用方式：[Feign/RestTemplate/Dubbo]
- 重要程度：[强依赖/弱依赖]

**服务特征**：
- 正常响应时间：[平均RT]
- 异常率范围：[正常异常比例]
- 调用频率：[QPS]
- 超时配置：[当前超时时间]

**熔断策略**：
- 熔断类型：[慢调用比例/异常比例/异常数]
- 熔断阈值：[具体数值]
- 熔断时长：[恢复等待时间]
- 最小请求数：[统计最小样本]

**降级方案**：
- 降级策略：[返回默认值/缓存/mock数据/抛异常]
- 业务影响：[对用户的影响]

请提供：
1. 熔断规则配置（含阈值合理性分析）
2. Fallback实现方案
3. 降级后的业务处理逻辑
4. 熔断恢复策略
5. 监控告警建议
```

### 模板 3: 热点参数限流

```
我需要配置热点参数限流：

**热点场景**：
- 业务场景：[商品详情/用户信息/资源访问]
- 热点参数：[商品ID/用户ID/等]
- 参数位置：[第N个参数]

**访问特征**：
- 整体QPS：[总体访问量]
- 热点QPS：[热点数据访问量]
- 热点比例：[热点占比]
- 热点数据特征：[明星商品/大V用户/等]

**保护策略**：
- 通用限流：[普通数据阈值]
- 热点限流：[热点数据阈值]
- 例外项：[特殊参数值列表]

请提供：
1. 热点参数规则配置
2. 例外项配置方案
3. 参数提取方式（@SentinelParam）
4. 动态调整策略
5. 与通用限流的配合
```

### 模板 4: 系统保护规则

```
我需要配置系统级保护规则：

**系统环境**：
- 机器配置：[CPU核数/内存/等]
- 应用类型：[计算密集/IO密集]
- 部署方式：[容器/虚拟机/物理机]

**系统指标**：
- CPU使用率：[正常范围]
- 系统Load：[正常Load值]
- 平均RT：[正常响应时间]
- 并发线程数：[正常并发]

**保护目标**：
- 防止场景：[CPU飙升/OOM/线程耗尽]
- 保护优先级：[核心接口优先]

请提供：
1. 系统保护规则配置
2. 各指标阈值设置依据
3. 多指标组合保护策略
4. 触发保护后的恢复机制
5. 监控和调优建议
```

## 决策指南

```
Sentinel 规则配置决策树
│
├─ 选择保护类型
│  ├─ 需要控制流量速率？
│  │  ├─ 是 → 流量控制规则（FlowRule）
│  │  │     │
│  │  │     ├─ 阈值类型
│  │  │     │  ├─ 控制请求速率 → QPS模式
│  │  │     │  └─ 控制并发数 → 线程数模式
│  │  │     │
│  │  │     ├─ 流控模式
│  │  │     │  ├─ 直接限流 → STRATEGY_DIRECT
│  │  │     │  ├─ 关联限流 → STRATEGY_RELATE（保护关联资源）
│  │  │     │  └─ 链路限流 → STRATEGY_CHAIN（特定调用链路）
│  │  │     │
│  │  │     └─ 流控效果
│  │  │        ├─ 快速失败 → CONTROL_BEHAVIOR_DEFAULT
│  │  │        ├─ 预热启动 → CONTROL_BEHAVIOR_WARM_UP
│  │  │        ├─ 匀速排队 → CONTROL_BEHAVIOR_RATE_LIMITER
│  │  │        └─ 预热+排队 → CONTROL_BEHAVIOR_WARM_UP_RATE_LIMITER
│  │  │
│  │  └─ 否 → 继续判断
│  │
│  ├─ 需要熔断降级？
│  │  ├─ 是 → 熔断降级规则（DegradeRule）
│  │  │     │
│  │  │     ├─ 熔断策略
│  │  │     │  ├─ 慢调用比例 → SLOW_REQUEST_RATIO
│  │  │     │  │  └─ 适用：RT不稳定，响应慢
│  │  │     │  ├─ 异常比例 → ERROR_RATIO
│  │  │     │  │  └─ 适用：服务间歇性故障
│  │  │     │  └─ 异常数 → ERROR_COUNT
│  │  │     │     └─ 适用：低流量场景
│  │  │     │
│  │  │     ├─ 参数设置
│  │  │     │  ├─ count：阈值（比例0-1或异常数）
│  │  │     │  ├─ timeWindow：熔断时长（秒）
│  │  │     │  ├─ minRequestAmount：最小请求数
│  │  │     │  └─ statIntervalMs：统计时长
│  │  │     │
│  │  │     └─ 降级处理
│  │  │        ├─ 返回默认值（查询类接口）
│  │  │        ├─ 返回缓存数据
│  │  │        ├─ 降级到备用服务
│  │  │        └─ 抛出业务异常
│  │  │
│  │  └─ 否 → 继续判断
│  │
│  ├─ 需要热点保护？
│  │  └─ 是 → 热点参数规则（ParamFlowRule）
│  │        ├─ 参数索引：paramIdx
│  │        ├─ 通用阈值：count
│  │        ├─ 例外项：paramFlowItemList
│  │        └─ 统计窗口：durationInSec
│  │
│  └─ 需要系统保护？
│     └─ 是 → 系统保护规则（SystemRule）
│           ├─ CPU使用率：highestCpuUsage
│           ├─ 系统Load：highestSystemLoad
│           ├─ 平均RT：avgRt
│           ├─ 并发线程：maxThread
│           └─ 入口QPS：qps
│
├─ 规则持久化方案
│  ├─ Nacos（推荐）
│  │  ├─ 优势：动态配置、版本管理、灰度发布
│  │  └─ 配置：sentinel-datasource-nacos
│  │
│  ├─ Apollo
│  │  └─ 适用：已使用Apollo作为配置中心
│  │
│  └─ 文件
│     └─ 适用：开发测试环境
│
└─ 异常处理策略
   ├─ 全局异常处理
   │  ├─ FlowException → 限流异常（429）
   │  ├─ DegradeException → 降级异常（503）
   │  ├─ ParamFlowException → 热点限流（429）
   │  └─ SystemBlockException → 系统保护（503）
   │
   └─ 方法级别处理
      ├─ blockHandler → 限流/熔断处理
      │  └─ 参数相同 + BlockException
      │
      └─ fallback → 业务异常降级
         └─ 参数相同 + Throwable
```

## 正反对比示例

### 示例 1: 限流规则配置

| 维度 | ❌ 错误做法 | ✅ 正确做法 |
|------|------------|------------|
| **阈值设置** | 凭感觉设置，如固定100 QPS | 基于压测结果和容量评估设置 |
| **规则持久化** | 代码硬编码规则 | 持久化到Nacos，支持动态调整 |
| **流控效果** | 所有接口都用快速失败 | 根据场景选择：预热/排队/快速失败 |
| **BlockHandler** | 不实现，让用户看到500错误 | 实现友好的限流提示 |
| **监控告警** | 不监控限流情况 | 监控限流率，阈值合理性评估 |

**场景说明**：订单提交接口限流

❌ **错误示例**：
```
限流配置不合理：
- 硬编码限流规则在代码中，无法动态调整
- QPS阈值设置为100，但没有压测依据
- 限流后直接返回500错误，用户体验差
- 使用快速失败，流量突增时大量请求被拒
- 不监控限流触发情况，无法优化
```

✅ **正确示例**：
```
合理的限流配置：
- 规则持久化到Nacos，支持动态调整
- 压测确定容量为300 QPS，设置阈值为200（留缓冲）
- 使用预热模式，冷启动10秒内逐步放开流量
- BlockHandler返回友好提示：系统繁忙，请稍后重试
- 监控限流触发率，定期评估阈值合理性
- 区分不同用户等级，VIP用户更高阈值
```

### 示例 2: 熔断降级配置

| 维度 | ❌ 错误做法 | ✅ 正确做法 |
|------|------------|------------|
| **熔断策略** | 不配置熔断，依赖超时 | 慢调用+异常比例组合熔断 |
| **阈值设置** | 异常比例设为0.9（90%） | 根据依赖稳定性设置（如0.3） |
| **最小请求数** | 使用默认值5 | 根据流量设置合理采样数 |
| **Fallback** | 不实现，直接抛异常 | 提供降级方案：缓存/默认值 |
| **熔断时长** | 固定60秒 | 根据依赖恢复时间动态调整 |
| **异常统计** | 所有异常都计入 | 只统计服务异常，排除业务异常 |

**场景说明**：用户服务调用熔断

❌ **错误示例**：
```
熔断配置不当：
- 不配置熔断规则，只依赖3秒超时
- 异常比例阈值90%，基本不会熔断
- 最小请求数5，流量大时采样不足
- 没有Fallback，熔断后直接报错
- 所有异常都计入，业务异常导致误判
```

✅ **正确示例**：
```
完善的熔断配置：
- 慢调用熔断：RT>500ms且比例>50%触发
- 异常比例熔断：异常率>30%触发
- 最小请求数：根据QPS设置为50
- Fallback返回用户缓存数据或默认信息
- 熔断时长30秒，半开状态探测恢复
- 只统计RemoteException，排除业务异常
- 监控熔断触发频率和恢复时间
```

### 示例 3: 热点参数限流

| 维度 | ❌ 错误做法 | ✅ 正确做法 |
|------|------------|------------|
| **热点识别** | 不区分热点，统一限流 | 识别热点参数单独限流 |
| **例外项** | 不配置例外项 | 为热点数据配置更严格限流 |
| **参数标注** | 不使用@SentinelParam | 明确标注热点参数 |
| **阈值设置** | 热点和普通数据同阈值 | 热点阈值远小于普通阈值 |
| **动态调整** | 热点数据固定 | 根据监控动态识别热点 |

**场景说明**：商品详情查询热点保护

❌ **错误示例**：
```
未做热点保护：
- 所有商品ID统一限流1000 QPS
- 明星商品访问量5000 QPS，击穿缓存
- 不识别热点，导致系统崩溃
- 热点变化时无法动态调整
```

✅ **正确示例**：
```
完善的热点保护：
- 识别商品ID为热点参数（第1个参数）
- 普通商品限流1000 QPS
- 明星商品（ID: 10001, 10002）限流100 QPS
- 使用@SentinelParam标注参数
- 配置例外项列表，动态更新热点ID
- 监控热点访问分布，及时调整策略
```

### 示例 4: 系统保护配置

| 维度 | ❌ 错误做法 | ✅ 正确做法 |
|------|------------|------------|
| **保护指标** | 只配置QPS限流 | 多维度指标：CPU/Load/RT/并发 |
| **CPU阈值** | 固定80%触发 | 根据应用类型动态调整 |
| **Load阈值** | 不考虑CPU核数 | Load阈值 = CPU核数 * 系数 |
| **触发策略** | 触发后拒绝所有请求 | 优先保护核心接口 |
| **恢复机制** | 固定等待时间 | 指标恢复后自动放开 |

**场景说明**：系统级过载保护

❌ **错误示例**：
```
系统保护缺失：
- 只配置接口QPS限流
- CPU飙升到95%仍接受请求
- 系统Load超过20无保护
- 平均RT达到3秒仍不限流
- 线程池耗尽导致系统hang住
```

✅ **正确示例**：
```
完善的系统保护：
- CPU使用率超过75%触发保护
- 系统Load超过核数*0.8触发（8核=6.4）
- 平均RT超过100ms开始限流
- 并发线程数超过500触发保护
- 入口QPS限制（作为最后防线）
- 触发保护时优先保障核心接口
- 指标恢复后逐步放开流量
```

## 验证清单

### 规则配置阶段

- [ ] 核心接口已配置流量控制规则
- [ ] 外部依赖已配置熔断降级规则
- [ ] 热点数据已配置热点参数限流
- [ ] 系统级保护规则已启用
- [ ] 所有规则已持久化到Nacos
- [ ] 规则阈值基于压测结果设置
- [ ] 预留20-30%容量缓冲
- [ ] 区分核心和非核心接口的优先级

### 降级处理阶段

- [ ] 所有限流接口实现BlockHandler
- [ ] 所有熔断调用实现Fallback
- [ ] 降级逻辑有兜底方案（缓存/默认值）
- [ ] 降级后返回友好提示信息
- [ ] 区分限流和熔断异常的处理
- [ ] 实现全局异常处理器
- [ ] 降级逻辑经过测试验证
- [ ] 降级对业务影响最小化

### 异常统计阶段

- [ ] 明确定义哪些异常计入熔断统计
- [ ] 排除业务异常（如参数校验失败）
- [ ] 只统计服务异常（如超时、连接失败）
- [ ] 使用exceptionsToIgnore排除特定异常
- [ ] 异常分类清晰，不误判
- [ ] 定期review异常统计配置

### 监控告警阶段

- [ ] 接入Sentinel Dashboard监控
- [ ] 监控关键指标：QPS/RT/限流率/熔断率
- [ ] 配置限流触发率告警（如>10%）
- [ ] 配置熔断频繁触发告警
- [ ] 监控规则变更历史
- [ ] 定期review规则合理性
- [ ] 建立限流熔断事件复盘机制
- [ ] 压测验证规则有效性

## 护栏约束

### 禁止操作

1. **禁止不持久化规则到配置中心**
   - 理由：重启后规则丢失，保护失效
   - 替代方案：持久化到Nacos/Apollo

2. **禁止限流后不提供友好提示**
   - 理由：用户体验差，不知道发生了什么
   - 替代方案：实现BlockHandler返回明确提示

3. **禁止熔断后不提供降级方案**
   - 理由：服务完全不可用，业务受损严重
   - 替代方案：实现Fallback返回缓存或默认值

4. **禁止所有异常都计入熔断统计**
   - 理由：业务异常导致误判，频繁熔断
   - 替代方案：只统计服务异常，排除业务异常

5. **禁止不区分核心和非核心接口**
   - 理由：资源紧张时核心业务也被限制
   - 替代方案：设置不同优先级和保护策略

### 必须遵守

1. **必须为所有对外API配置限流规则**
   - 原因：防止流量洪峰击垮系统

2. **必须为所有外部依赖配置熔断规则**
   - 原因：防止依赖故障导致雪崩

3. **必须实现BlockHandler和Fallback**
   - 原因：提供友好降级体验

4. **必须持久化规则到配置中心**
   - 原因：支持动态调整，重启不丢失

5. **必须监控限流熔断情况**
   - 原因：及时发现问题，优化规则

### 性能红线

- 限流触发率不超过5%（正常业务）
- 熔断恢复时间不超过30秒
- Sentinel对RT的影响不超过1ms
- 规则数量不超过1000条
- 单接口规则不超过10条
- Dashboard响应时间不超过100ms

## 常见问题诊断表

| 问题现象 | 可能原因 | 诊断步骤 | 解决方案 |
|---------|---------|---------|---------|
| 限流规则不生效 | 资源名配置错误或规则未加载 | 1. 检查@SentinelResource的value<br>2. 查看Dashboard规则列表<br>3. 确认规则持久化配置 | 1. 修正资源名匹配<br>2. 检查Nacos配置是否加载<br>3. 重启应用重新加载规则 |
| 频繁触发熔断 | 阈值设置过严或异常统计不当 | 1. 查看实际异常率和RT<br>2. 检查异常统计配置<br>3. 分析业务异常占比 | 1. 调整熔断阈值<br>2. 排除业务异常<br>3. 增大最小请求数 |
| 熔断后无降级 | 未实现Fallback方法 | 1. 检查是否配置fallback<br>2. 确认方法签名正确 | 1. 实现Fallback方法<br>2. 或使用FallbackFactory<br>3. 提供降级数据 |
| 热点限流不生效 | 参数未标注或索引错误 | 1. 检查@SentinelParam注解<br>2. 确认参数索引<br>3. 查看热点规则配置 | 1. 添加@SentinelParam<br>2. 修正paramIdx<br>3. 验证参数提取逻辑 |
| 规则修改后未生效 | Nacos配置未推送或监听失败 | 1. 检查Nacos配置是否更新<br>2. 查看应用日志<br>3. 确认dataId和group | 1. 确认Nacos连接正常<br>2. 检查data-id配置<br>3. 重启应用 |
| BlockHandler未执行 | 方法签名不匹配 | 1. 检查参数列表是否一致<br>2. 确认是否有BlockException | 1. 修正方法签名<br>2. 添加BlockException参数<br>3. 确保方法public |
| 系统保护频繁触发 | 阈值设置过低或系统压力大 | 1. 查看系统实际指标<br>2. 分析触发时机<br>3. 对比历史数据 | 1. 调整系统保护阈值<br>2. 优化应用性能<br>3. 扩容增加资源 |
| Feign调用未降级 | FallbackFactory未生效 | 1. 确认Feign配置<br>2. 检查fallbackFactory<br>3. 查看Sentinel日志 | 1. 配置Feign Sentinel支持<br>2. 实现FallbackFactory<br>3. 确保fallback参数正确 |
| Dashboard连接失败 | 端口冲突或网络不通 | 1. telnet Dashboard地址<br>2. 检查transport.port<br>3. 查看防火墙规则 | 1. 修改transport.port<br>2. 开放端口<br>3. 确认Dashboard地址 |
| 并发线程限流误判 | 线程未正确释放或统计错误 | 1. 检查finally块是否执行<br>2. 查看线程占用情况 | 1. 确保资源正确释放<br>2. 调整线程数阈值<br>3. 检查代码死锁 |

## 输出格式要求

### 限流规则方案输出格式

```
## 限流规则配置方案：[接口/服务名称]

### 接口分析
- 接口路径：[REST路径或资源名]
- 业务重要性：[核心/重要/一般]
- 正常QPS：[日常流量]
- 峰值QPS：[高峰流量]
- 系统容量：[压测得出的最大QPS]

### 限流策略

#### 1. 基础限流
- 资源名：[resource name]
- 限流模式：[直接/关联/链路]
- 阈值类型：[QPS/线程数]
- 阈值设置：[具体数值]（依据：[容量*0.8预留缓冲]）

#### 2. 流控效果
- 控制行为：[快速失败/预热/匀速排队]
- 选择理由：[场景说明]
- 参数配置：
  * 预热时长：[N秒]（如适用）
  * 排队超时：[N毫秒]（如适用）

#### 3. 高级配置
- 来源限流：[是否区分调用方]
- 关联资源：[关联的其他资源]（如适用）
- 例外项：[白名单配置]（如适用）

### BlockHandler实现
- 返回类型：[统一响应格式]
- 错误码：[HTTP 429]
- 提示信息：[系统繁忙，请稍后重试]
- 降级逻辑：[具体处理方式]

### 规则JSON（Nacos配置）
规则结构描述：
- resource：[资源名]
- grade：[1-QPS / 0-线程数]
- count：[阈值]
- limitApp：[来源应用，default为不限制]
- strategy：[0-直接 / 1-关联 / 2-链路]
- controlBehavior：[0-快速失败 / 1-预热 / 2-排队]

### 监控告警
- 监控指标：限流触发次数、触发率
- 告警阈值：触发率>5%
- 优化建议：[根据监控数据调整阈值]
```

### 熔断降级方案输出格式

```
## 熔断降级方案：[服务调用]

### 依赖分析
- 被调服务：[服务名]
- 调用方式：[Feign/Dubbo/RestTemplate]
- 重要程度：[强依赖/弱依赖]
- 正常RT：[平均响应时间]
- 正常异常率：[正常异常比例]
- 调用QPS：[调用频率]

### 熔断策略

#### 1. 慢调用比例熔断
适用场景：[响应时间不稳定]
配置参数：
- 熔断策略：SLOW_REQUEST_RATIO
- RT阈值：[N毫秒]（依据：[正常RT*1.5]）
- 比例阈值：[0.5]（50%请求超过RT阈值）
- 熔断时长：[30秒]
- 最小请求数：[50]（依据：[每秒QPS*统计时长]）
- 统计时长：[10秒]

#### 2. 异常比例熔断
适用场景：[服务间歇性故障]
配置参数：
- 熔断策略：ERROR_RATIO
- 比例阈值：[0.3]（30%请求异常）
- 熔断时长：[30秒]
- 最小请求数：[50]

#### 3. 异常数熔断
适用场景：[低流量服务]
配置参数：
- 熔断策略：ERROR_COUNT
- 异常数阈值：[10个]
- 熔断时长：[60秒]

### 异常统计配置
计入统计的异常：
- RemoteException（远程调用异常）
- TimeoutException（超时异常）
- [其他服务异常]

排除的异常（exceptionsToIgnore）：
- IllegalArgumentException（参数校验）
- BusinessException（业务异常）
- [其他业务异常]

### Fallback实现

#### 1. 降级策略
强依赖服务：
- 返回缓存数据（Redis/本地缓存）
- 超时时间：[N毫秒]

弱依赖服务：
- 返回默认值或空数据
- 记录降级日志

#### 2. 降级逻辑
降级后行为：
- [具体降级处理流程]
- [对用户的影响说明]
- [数据一致性处理]

### 熔断恢复
- 恢复模式：半开状态探测
- 探测请求数：[10个]
- 恢复条件：[成功率>80%]
- 再次熔断：[继续异常则延长熔断时长]

### 监控告警
- 监控指标：熔断次数、熔断时长、降级率
- 告警条件：熔断频繁（N次/小时）
- 处理流程：[告警后的处理SOP]
```

### 热点参数限流方案输出格式

```
## 热点参数限流方案：[接口名称]

### 热点分析
- 业务场景：[商品详情/用户信息/等]
- 热点参数：[参数名称]
- 参数位置：[第N个参数]
- 参数类型：[Long/String/等]

### 访问特征
- 整体QPS：[总体访问量]
- 热点QPS：[热点数据访问量]
- 热点占比：[百分比]
- 热点识别：[top N的数据ID]

### 热点规则配置

#### 1. 通用限流
- 资源名：[resource name]
- 参数索引：[0-based index]
- 阈值类型：QPS
- 通用阈值：[N]（普通参数限流）
- 统计窗口：[1秒]

#### 2. 例外项配置
热点数据特殊限流：

| 参数值 | 阈值 | 说明 |
|--------|------|------|
| 10001  | 100  | 明星商品A |
| 10002  | 150  | 明星商品B |
| ...    | ...  | ... |

#### 3. 动态调整
热点识别机制：
- 监控访问Top 10参数
- 定期（每小时）更新例外项列表
- 自动调整热点阈值

### 参数提取
- 注解方式：@SentinelParam标注参数
- 提取位置：[方法参数或对象属性]
- 类型转换：[如需要]

### 配合策略
与通用限流的配合：
- 先执行热点限流
- 再执行接口总体限流
- 两层保护确保安全

### 监控优化
- 监控热点访问分布
- 识别新的热点数据
- 动态调整阈值和例外项
```
